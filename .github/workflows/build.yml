
name: Build App
on: [push]
jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Build
        run: |
          npm init -y
          npm install @capacitor/cli @capacitor/core @capacitor/android
          mkdir -p dist && cp index.html dist/
          npx cap add android && npx cap sync
      - name: Compile APK
        run: |
          cd android && chmod +x gradlew && ./gradlew assembleDebug
          cp app/build/outputs/apk/debug/app-debug.apk ../פרוייקט_Enterprise.apk
      - uses: softprops/action-gh-release@v1
        with: { tag_name: v1, files: "פרוייקט_Enterprise.apk" }
        env: { GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} }
